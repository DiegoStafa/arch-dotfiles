##############################################################
#							     #	
# ------------------------ APPEARANCE -----------------------#
#							     #					
##############################################################

# default gaps values
set 	$inner_gaps 			30
set 	$outer_gaps 			25

gaps 	inner 				$inner_gaps
gaps 	outer				$outer_gaps

# gaps mode
set 	$mode_gaps_out			mode gaps: OUT
set 	$mode_gaps_in 			mode gaps: IN

bindsym $mod+KP_Add			gaps inner current	plus 	10;		gaps outer current 	plus 	10
bindsym $mod+KP_Subtract		gaps inner current	minus 	10;		gaps outer current 	minus 	10
bindsym $mod+KP_Delete			gaps inner current	set 	0;		gaps outer current 	set 	0
bindsym $mod+KP_Enter			gaps inner current	set 	$inner_gaps;	gaps outer current 	set 	$outer_gaps

bindsym $mod+Shift+KP_Add		gaps inner all		plus 	10;		gaps outer all		plus 	10
bindsym $mod+Shift+KP_Subtract		gaps inner all		minus 	10;		gaps outer all		minus 	10
bindsym $mod+Shift+KP_Delete		gaps inner all		set 	0;		gaps outer all		set 	0
bindsym $mod+Shift+KP_Enter		gaps inner all		set 	$inner_gaps;	gaps outer all		set 	$outer_gaps

bindsym $mod+Shift+i 			mode "$mode_gaps_in"
bindysm $mod+Shift+o			mode "$mode_gaps_out"

mode "$mode_gaps_out" 
{
        bindsym KP_Add			gaps outer current	plus	5
        bindsym KP_Subtract 		gaps outer current 	minus	5
        bindsym KP_0  	 		gaps outer current 	set	0
	bindsym KP_Enter		gaps outer current	set 	$outer_gaps
 
        bindsym Shift+KP_Add		gaps outer all		plus	5
        bindsym Shift+KP_Subtract 	gaps outer all 		minus	5
        bindsym Shift+KP_0		gaps outer all 		set	0
	bindsym Shift+KP_Enter		gaps outer all		set 	$outer_gaps
        
	bindsym Escape			mode "default"
}

mode "$mode_gaps_in" 
{
        bindsym KP_Add			gaps inner current	plus	5
        bindsym KP_Subtract 		gaps inner current 	minus	5
        bindsym KP_0	   		gaps inner current 	set	0
	bindsym KP_Enter		gaps inner current	set 	$inner_gaps

        bindsym Shift+KP_Add		gaps inner all		plus	5
        bindsym Shift+KP_Subtract 	gaps inner all 		minus	5
        bindsym Shift+KP_0		gaps inner all 		set	0
	bindsym Shift+KP_Enter		gaps inner all		set	$inner_gaps
	
	bindsym Escape 			mode "default"
}

for_window [class="^.*"] 		border pixel 1 

client.focused #808080 #808080 #808080 #808080 #808080

font pango:				monospace 0

#############################################################
# --------------------- i3 keybind -------------------------#
#############################################################


# drag floating windows
floating_modifier		$mod
 
# toggle tiling / floating
bindsym $mod+Shift+space	floating toggle
bindsym $mod+b 			border toggle

# split orientation
bindsym $mod+h			split h
bindsym $mod+v			split v

# change layout
bindsym $mod+s			layout stacking
bindsym $mod+w			layout tabbed
bindsym $mod+e			layout toggle split

# move window
bindsym $mod+Shift+Left		move left
bindsym $mod+Shift+Down		move down
bindsym $mod+Shift+Up		move up
bindsym $mod+Shift+Right	move right

# change focus
bindsym $mod+Left		focus left
bindsym $mod+Down		focus down
bindsym $mod+Up			focus up
bindsym $mod+Right		focus right
bindsym $mod+a			focus parent
bindsym $mod+space		focus mode_toggle

# kill focused window
bindsym $mod+Shift+q		kill

# fullscreen
bindsym $mod+f			fullscreen toggle

# resize window
bindsym $mod+r 			mode "resize mode"

mode "resize mode"
{
        bindsym Right		resize grow 	width 	10 px or 10 ppt
        bindsym Up 		resize shrink 	height 	10 px or 10 ppt
        bindsym Down 		resize grow 	height 	10 px or 10 ppt
        bindsym Left 		resize shrink 	width 	10 px or 10 ppt

        # back to normal
        bindsym Return 		mode "default"
        bindsym Escape 		mode "default"
        bindsym $mod+r 		mode "default"
}


###################################################################
# ------------------------- workspace --------------------------- #
###################################################################

# names for default workspaces
set $ws1		"1"
set $ws2		"2"
set $ws3		"3"
set $ws4		"4"
set $ws5		"5"
set $ws6		"6"
set $ws7		"7"
set $ws8		"8"
set $ws9		"9"
set $ws10		"10"

# switch to workspace

bindsym $mod+1		workspace $ws1
bindsym $mod+2		workspace $ws2
bindsym $mod+3		workspace $ws3
bindsym $mod+4		workspace $ws4
bindsym $mod+5		workspace $ws5
bindsym $mod+6		workspace $ws6
bindsym $mod+7		workspace $ws7
bindsym $mod+8		workspace $ws8
bindsym $mod+9		workspace $ws9
bindsym $mod+0		workspace $ws10

bindsym $mod+mod2+KP_1	workspace $ws1
bindsym $mod+mod2+KP_2	workspace $ws2
bindsym $mod+mod2+KP_3	workspace $ws3
bindsym $mod+mod2+KP_4	workspace $ws4
bindsym $mod+mod2+KP_5	workspace $ws5
bindsym $mod+mod2+KP_6	workspace $ws6
bindsym $mod+mod2+KP_7	workspace $ws7
bindsym $mod+mod2+KP_8	workspace $ws8
bindsym $mod+mod2+KP_9	workspace $ws9
bindsym $mod+mod2+KP_0	workspace $ws10

# change workspace
bindsym $mod+Ctrl+Left 	workspace prev
bindsym $mod+Ctrl+Right workspace next

# move focused container to workspace
bindsym $mod+Shift+1 		move container to workspace $ws1
bindsym $mod+Shift+2 		move container to workspace $ws2
bindsym $mod+Shift+3 		move container to workspace $ws3
bindsym $mod+Shift+4 		move container to workspace $ws4
bindsym $mod+Shift+5 		move container to workspace $ws5
bindsym $mod+Shift+6 		move container to workspace $ws6
bindsym $mod+Shift+7 		move container to workspace $ws7
bindsym $mod+Shift+8 		move container to workspace $ws8
bindsym $mod+Shift+9 		move container to workspace $ws9
bindsym $mod+Shift+0 		move container to workspace $ws10

bindsym $mod+Shift+KP_1 	move container to workspace $ws1
bindsym $mod+Shift+KP_2 	move container to workspace $ws2
bindsym $mod+Shift+KP_3 	move container to workspace $ws3
bindsym $mod+Shift+KP_4 	move container to workspace $ws4
bindsym $mod+Shift+KP_5 	move container to workspace $ws5
bindsym $mod+Shift+KP_6 	move container to workspace $ws6
bindsym $mod+Shift+KP_7 	move container to workspace $ws7
bindsym $mod+Shift+KP_8 	move container to workspace $ws8
bindsym $mod+Shift+KP_9 	move container to workspace $ws9
bindsym $mod+Shift+KP_0 	move container to workspace $ws10


# -------------------- services ---------------------------

# background services

#exec --no-startup-id	/home/diego/.config/i3/layout.py

exec --no-startup-id	nm-applet
exec --no-startup-id	"picom --experimental-backends"
exec --no-startup-id	redshift
exec --no-startup-id	dunst
exec --no-startup-id	/home/diego/.config/feh/.fehbg
exec --no-startup-id	/home/diego/.config/polybar/launch.sh
exec --no-startup-id 	i3-msg "workspace 1; exec alacritty -t _scratchpad"
# program bindings

for_window [title="_scratchpad"] move window to scratchpad, scratchpad show

bindsym $mod+Return 		exec --no-startup-id 	"alacritty"
bindsym $mod+period 		exec --no-startup-id 	"alacritty -t _scratchpad"

bindsym $mod+d 			exec --no-startup-id 	"rofi -show drun"
bindsym $mod+c 			exec --no-startup-id    "rofi -show clipboard"

bindsym $mod+n			exec --no-startup-id	"alacritty -t _scratchpad -e newsboat"

bindsym $mod+b			exec --no-startup-id	"mpv /home/diego/Music/bruh-sound-effect-2.m4a"
bindcode $mod+107 		exec --no-startup-id	"/home/diego/Scripts/screenshot"

bindsym $mod+Shift+minus 	move scratchpad
bindsym $mod+minus 		scratchpad show

# binding function keys (volume, brightness...)
bindsym XF86AudioRaiseVolume	exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ 	+5%	&& $refresh_i3status
bindsym XF86AudioLowerVolume 	exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ 	-5%	&& $refresh_i3status
bindsym XF86AudioMute 	     	exec --no-startup-id pactl set-sink-mute   @DEFAULT_SINK@ 	toggle	&& $refresh_i3status
bindsym XF86AudioMicMute     	exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@	toggle	&& $refresh_i3status


bindsym XF86MonBrightnessUp 	exec --no-startup-id xbacklight +5					&& $refresh_i3status
bindsym XF86MonBrightnessDown 	exec --no-startup-id xbacklight -5					&& $refresh_i3status

# ------------------------ system --------------------------------

# mouse focus
focus_follows_mouse no

# mod key
set $mod mod4
 
# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace
bindsym $mod+Shift+r restart

# exit i3
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Log Out' -B 'Yes' 'i3-msg exit' --font 'pango:roboto 10'"

# --------------------------- end ---------------------------------
